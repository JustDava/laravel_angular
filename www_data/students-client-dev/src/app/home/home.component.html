<section class="section">
  <div class="container">
    <div class="alert" [class.visually-hidden]="response==undefined" [ngClass]="response?.status=='success' ? 'alert-success' : 'alert-danger'">{{ response?.message }}</div>
    <div class="spinner-border text-secondary-emphasis" role="status" [class.visually-hidden]="!isLoading">
      <span class="visually-hidden">Loading...</span>
    </div>
    <table class="table" *ngIf="!isLoading">
      <thead>
      <tr>
        <th>ID</th>
        <th>Фамилия</th>
        <th>Имя</th>
        <th>Отчество</th>
        <th>Дата рождения</th>
        <th>Пол</th>
        <th>Действия</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let student of students">
        <td>{{ student.id }}</td>
        <td>{{ student.last_name }}</td>
        <td>{{ student.first_name }}</td>
        <td>{{ student.patronymic }}</td>
        <td>{{ student.birthday }}</td>
        <td>{{ student.gender }}</td>
        <td>
          <a class="btn btn-primary" [routerLink]="['/student/'+student.id]" [class.visually-hidden]="isUpdating(student.id)">Изменить</a>
          <button class="btn btn-danger" [class.visually-hidden]="isUpdating(student.id)" (click)="deleteStudent(student.id)">Удалить</button>
          <div class="spinner-border text-danger" role="status" [class.visually-hidden]="!isUpdating(student.id)">
            <span class="visually-hidden">Loading...</span>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</section>
